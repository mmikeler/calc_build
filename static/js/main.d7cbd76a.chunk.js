(this.webpackJsonpcalc2=this.webpackJsonpcalc2||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(10),i=a.n(c),r=(a(15),a(6)),l=a(5),o=a(4),h=a(2),d=a(3),p=(a(7),a(0)),j=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={side:"none",count:2,before:100,after:500,minSpace:50,error:!1},e.handleInputChange=function(t){var a,s,n=t.target.name,c=t.target.value,i=t.target.closest(".detail").dataset.key,l=e.state.count-1;Math.round((e.state.after-e.state.before)/l,1)>=e.state.minSpace?e.setState((a={},Object(r.a)(a,n,c),Object(r.a)(a,"error",!1),a),(function(){e.props.func(e.state,i)})):e.setState((s={},Object(r.a)(s,n,c),Object(r.a)(s,"error",!0),s))},e.isFree=function(e,t,a){return!("groove"!==e&&!t&&!a)||!!e&&void 0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.side,a=e.before,s=e.after,n=e.minSpace,c=this.props.set,i=2*+n,r=s-2*n,l="top"===t||"bot"===t?c.nominalwidth-2*n:c.nominalheight-2*n,o=2*+n+ +a,h=Math.round((s-a)/n)+1,d=0!==+c.lt.x,j=0!==+c.rt.x,b=0!==+c.rb.x,x=0!==+c.lb.x,u=c.reserve,g=this.isFree(u.left,d,x),O=this.isFree(u.top,d,j),m=this.isFree(u.right,j,b),v=this.isFree(u.bot,b,x);return c.nominalwidth<150&&(O=v=!0),c.nominalheight<150&&(g=m=!0),"groove"===u.left||"groove"===u.top||"groove"===u.right||"groove"===u.bot?Object(p.jsx)("span",{className:"fons12 red",children:"\u041f\u0435\u0442\u043b\u0438 \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b \u0441 \u043f\u0430\u0437\u0430\u043c\u0438"}):g&&O&&m&&v?Object(p.jsx)("span",{className:"fons12 red",children:"\u041d\u0435\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0421\u0442\u043e\u0440\u043e\u043d\u0430"}),Object(p.jsxs)("select",{onChange:this.handleInputChange,name:"side",defaultValue:"none",value:c.loops.side,children:[Object(p.jsx)("option",{value:"none",children:"\u041d\u0435\u0442"},"loopnone"),Object(p.jsxs)("option",{value:"left",disabled:g,children:["\u0421\u043b\u0435\u0432\u0430",g&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]},"loopleft"),Object(p.jsxs)("option",{value:"top",disabled:O,children:["\u0421\u0432\u0435\u0440\u0445\u0443",O&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]},"looptop"),Object(p.jsxs)("option",{value:"right",disabled:m,children:["\u0421\u043f\u0440\u0430\u0432\u0430",m&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]},"loopright"),Object(p.jsxs)("option",{value:"bot",disabled:v,children:["\u0421\u043d\u0438\u0437\u0443",v&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]},"loopbot")]})]}),"none"!==this.state.side&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u041a\u043e\u043b-\u0432\u043e, \u0448\u0442"}),Object(p.jsx)("input",{className:this.state.error?"error":"",onChange:this.handleInputChange,name:"count",type:"number",min:"2",max:h,step:"1",defaultValue:"2"})]}),Object(p.jsx)("label",{className:"flex-center ml-a",children:Object(p.jsxs)("span",{className:"fons12",children:["\u041e\u0442 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e/\u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043a\u0440\u0430\u044f \u043e\u0442\u0441\u0442\u0443\u043f \u043e\u0442\u0432\u0435\u0440\u0441\u0442\u0438\u0439 ",i,"\u043c\u043c."]})}),Object(p.jsxs)("label",{className:"flex-column w100p",children:[Object(p.jsx)("span",{children:"\u0414\u043e \u043f\u0435\u0440\u0432\u043e\u0439 \u043f\u0435\u0442\u043b\u0438, \u043c\u043c"}),Object(p.jsx)("input",{onChange:this.handleInputChange,name:"before",type:"range",min:i,max:r,step:"1",defaultValue:i})]}),Object(p.jsxs)("label",{className:"flex-column w100p",children:[Object(p.jsx)("span",{children:"\u0414\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u043f\u0435\u0442\u043b\u0438, \u043c\u043c"}),Object(p.jsx)("input",{onChange:this.handleInputChange,name:"after",type:"range",min:o,max:l,step:"1",defaultValue:l})]})]})]})}}]),a}(n.a.Component);function b(e){var t=e.set,a=e.m,s=t.loops,n=25,c=17.5;if(void 0===s.side||"none"===s.side)return"";var i=t.width,r=t.height,l=[];if("left"===s.side?(l.push(Object(p.jsx)("path",{d:"M ".concat(a+n," ").concat(a," v ").concat(r),stroke:"#72aee6",strokeDasharray:"10",fill:"transparent"},"lpath")),l.push(Object(p.jsx)(x,{side:s.side,cx:a+n,cy:+s.before+a,r:c,m:a},"lbefore")),l.push(Object(p.jsx)(x,{side:s.side,cx:a+n,cy:+s.after+a,r:c,m:a},"lafter"))):"top"===s.side?(l.push(Object(p.jsx)("path",{d:"M ".concat(a," ").concat(a+n," h ").concat(i),stroke:"#72aee6",strokeDasharray:"10",fill:"transparent"},"tpath")),l.push(Object(p.jsx)(x,{side:s.side,cx:+s.before+a,cy:a+n,r:c,m:a},"tbefore")),l.push(Object(p.jsx)(x,{side:s.side,cx:+s.after+a,cy:a+n,r:c,m:a},"tafter"))):"right"===s.side?(l.push(Object(p.jsx)("path",{d:"M ".concat(a+i-n," ").concat(a," v ").concat(r),stroke:"#72aee6",strokeDasharray:"10",fill:"transparent"},"rpath")),l.push(Object(p.jsx)(x,{side:s.side,cx:a+i-n,cy:+s.before+a,r:c,m:a},"rbefore")),l.push(Object(p.jsx)(x,{side:s.side,cx:a+i-n,cy:+s.after+a,r:c,m:a},"rafter"))):"bot"===s.side&&(l.push(Object(p.jsx)("path",{d:"M ".concat(a," ").concat(r+a-n," h ").concat(i),stroke:"#72aee6",strokeDasharray:"10",fill:"transparent"},"bpath")),l.push(Object(p.jsx)(x,{side:s.side,cx:+s.before+a,cy:r+a-n,r:c,m:a},"bbefore")),l.push(Object(p.jsx)(x,{side:s.side,cx:+s.after+a,cy:r+a-n,r:c,m:a},"bafter"))),s.count>2)for(var o=s.count-1,h=Math.round((s.after-s.before)/o,1),d=1;d<o;d++){var j=a+n,b=+s.before+h*d+a;"top"===s.side?(b=a+n,j=+s.before+h*d+a):"right"===s.side?(j=i+a-n,b=+s.before+h*d+a):"bot"===s.side&&(b=r+a-n,j=+s.before+h*d+a),l.push(Object(p.jsx)(x,{cx:j,cy:b,r:c,width:i,height:r,side:s.side,m:a},"".concat(j,"-").concat(b,"-").concat(d)))}return l}function x(e){var t=e.side,a="M ".concat(e.cx," ").concat(e.cy," h ").concat(e.r+20),s=e.cx+45,n=e.cy+8,c=e.cy-e.m;return"top"===t?(a="M ".concat(e.cx," ").concat(e.cy," v ").concat(e.r+20),s=e.cx-23,n=e.cy+60,c=e.cx-e.m):"right"===t?(a="M ".concat(e.cx," ").concat(e.cy," h -").concat(e.r+20),s=e.cx-90,n=e.cy+10,c=e.cy-e.m):"bot"===t&&(a="M ".concat(e.cx," ").concat(e.cy," v -").concat(e.r+20),s=e.cx-20,n=e.cy-50,c=e.cx-e.m),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("circle",{cx:e.cx,cy:e.cy,r:e.r,stroke:"#3b8ecc",fill:"#3b8ecc"}),Object(p.jsx)("path",{d:a,stroke:"#3b8ecc"}),Object(p.jsx)("text",{fontSize:"150%",x:s,y:n,children:c})]})}var u=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleInputChange=function(t){var a,s=t.target.name,n=t.target.value,c=t.target.closest(".detail").dataset.key;e.setState((a={},Object(r.a)(a,s,n),Object(r.a)(a,"error",!1),a),(function(){e.props.func(e.state.side,c)}))},e.isFree=function(e,t,a){return!("loops"!==e&&!t&&!a)||!!e&&void 0},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.set,t=0!==+e.lt.x,a=0!==+e.rt.x,s=0!==+e.rb.x,n=0!==+e.lb.x,c=e.reserve,i=this.isFree(c.left,t,n),r=this.isFree(c.top,t,a),l=this.isFree(c.right,a,s),o=this.isFree(c.bot,s,n);return"loops"===c.left||"loops"===c.top||"loops"===c.right||"loops"===c.bot?Object(p.jsx)("span",{className:"fons12 red",children:"\u041f\u0430\u0437\u044b \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b \u0441 \u043f\u0435\u0442\u043b\u044f\u043c\u0438"}):i&&r&&l&&o?Object(p.jsx)("span",{className:"fons12 red",children:"\u041d\u0435\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"}):Object(p.jsxs)("div",{className:"flex-nowrap flex-center",children:[Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0421\u0442\u043e\u0440\u043e\u043d\u0430"}),Object(p.jsxs)("select",{onChange:this.handleInputChange,name:"side",value:e.groove,children:[Object(p.jsx)("option",{value:"none",children:"\u041d\u0435\u0442"}),Object(p.jsxs)("option",{value:"left",disabled:i,children:["\u0421\u043b\u0435\u0432\u0430",i&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]}),Object(p.jsxs)("option",{value:"top",disabled:r,children:["\u0421\u0432\u0435\u0440\u0445\u0443",r&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]}),Object(p.jsxs)("option",{value:"right",disabled:l,children:["\u0421\u043f\u0440\u0430\u0432\u0430",l&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]}),Object(p.jsxs)("option",{value:"bot",disabled:o,children:["\u0421\u043d\u0438\u0437\u0443",o&&" (\u0437\u0430\u043d\u044f\u0442\u043e)"]})]})]}),Object(p.jsxs)("span",{className:"fons12",children:[Object(p.jsx)("b",{children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0430\u0437\u0430: "}),"\u0433\u043b\u0443\u0431\u0438\u043d\u0430 8 \u043c\u043c, \u0448\u0438\u0440\u0438\u043d\u0430 4 \u043c\u043c, \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0442 \u043a\u0440\u0430\u044f 16 \u043c\u043c (20 \u043c\u043c \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043f\u0430\u0437\u043e\u043c)"]})]})}}]),a}(n.a.Component);function g(e){var t=e.set,a=e.m,s=t.groove;if(!s)return"";var n=t.grooveIndent,c=t.grooveWidth,i=a,r=a,l="left"===s||"right"===s?"v":"h",o="h"===l?t.width:t.height;return"left"===s&&(i=a+n),o*=-1,"top"===s&&(r=a+n),"right"===s&&(i=a+ +t.width-n),"bot"===s&&(r=+t.height+a-n),o*=-1,Object(p.jsx)("path",{d:"M ".concat(i," ").concat(r," ").concat(l," ").concat(o),stroke:"green",strokeWidth:c,fill:"transparent"})}var O=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={left:"0.0",top:"0.0",right:"0.0",bot:"0.0"},e.handleChange=function(t){var a=e.props.set,s=a.lt.x>0,n=a.rt.x>0,c=a.rb.x>0,i=a.lb.x>0,l=t.target.name,o=t.target.value,h=t.target.closest(".detail").dataset.key,d=Object(r.a)({},l,o);"left"===l&&s?d.top=o:"left"===l&&i?d.bot=o:"top"===l&&s?d.left=o:"top"===l&&n?d.right=o:"right"===l&&n?d.top=o:"right"===l&&c?d.bot=o:"bot"===l&&c?d.right=o:"bot"===l&&i&&(d.left=o),e.setState(d,(function(){e.props.func(e.state,h)}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.set,t=e.edge.left,a=e.edge.top,s=e.edge.right,n=e.edge.bot,c=e.edgeMin,i=e.edgeMax;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0421\u043b\u0435\u0432\u0430"}),Object(p.jsxs)("select",{onChange:this.handleChange,name:"left",value:t,children:[Object(p.jsx)("option",{value:"0.0",children:"0.0"}),Object(p.jsx)("option",{value:c,children:c}),Object(p.jsx)("option",{value:i,children:i})]})]}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0421\u0432\u0435\u0440\u0445\u0443"}),Object(p.jsxs)("select",{onChange:this.handleChange,name:"top",value:a,children:[Object(p.jsx)("option",{value:"0.0",children:"0.0"}),Object(p.jsx)("option",{value:c,children:c}),Object(p.jsx)("option",{value:i,children:i})]})]}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0421\u043f\u0440\u0430\u0432\u0430"}),Object(p.jsxs)("select",{onChange:this.handleChange,name:"right",value:s,children:[Object(p.jsx)("option",{value:"0.0",children:"0.0"}),Object(p.jsx)("option",{value:c,children:c}),Object(p.jsx)("option",{value:i,children:i})]})]}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0421\u043d\u0438\u0437\u0443"}),Object(p.jsxs)("select",{onChange:this.handleChange,name:"bot",value:n,children:[Object(p.jsx)("option",{value:"0.0",children:"0.0"}),Object(p.jsx)("option",{value:c,children:c}),Object(p.jsx)("option",{value:i,children:i})]})]})]})}}]),a}(n.a.Component);function m(e){var t=e.set,a=e.m,s=100,n=a-10,c=a+t.height+10,i=a+t.width+10;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("path",{d:"M ".concat(n," ").concat(c," v -").concat(s),stroke:"brown",strokeDasharray:"15,10",strokeWidth:"3",fill:"transparent"}),Object(p.jsx)("text",{fontSize:"150%",x:n-45,y:c-25,fill:"brown",children:t.edge.left}),Object(p.jsx)("path",{d:"M ".concat(n," ").concat(c," h ").concat(s),stroke:"brown",strokeDasharray:"15,10",strokeWidth:"3",fill:"transparent"}),Object(p.jsx)("text",{fontSize:"150%",x:n+30,y:c+25,fill:"brown",children:t.edge.bot}),Object(p.jsx)("path",{d:"M ".concat(i," ").concat(n," v ").concat(s),stroke:"brown",strokeDasharray:"15,10",strokeWidth:"3",fill:"transparent"}),Object(p.jsx)("text",{fontSize:"150%",x:i-60,y:n-10,fill:"brown",children:t.edge.top}),Object(p.jsx)("path",{d:"M ".concat(i," ").concat(n," h -").concat(s),stroke:"brown",strokeDasharray:"15,10",strokeWidth:"3",fill:"transparent"}),Object(p.jsx)("text",{fontSize:"150%",x:i+5,y:n+50,fill:"brown",children:t.edge.right})]})}var v=a(9);function f(e,t){var a,s=t.SHEET_WIDTH*t.SHEET_LENGHT*t.SHEET_FILLING_AREA,n=0,c=e.size>0?1:0,i=Object(v.a)(e.values());try{for(i.s();!(a=i.n()).done;){var r=a.value;(n+=r.width*r.height)>s*c&&c++}}catch(l){i.e(l)}finally{i.f()}return c}function y(e){var t=e.set,a=e.options,s=[],n={"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b":a.SHEET_NAME,"\u0420\u0430\u0437\u043c\u0435\u0440":"".concat(a.SHEET_WIDTH,"\u043c\u043c x ").concat(a.SHEET_LENGHT,"\u043c\u043c x ").concat(a.SHEET_DEPTH,"\u043c\u043c"),"\u041b\u0438\u0441\u0442\u043e\u0432 \u0432 \u0440\u0430\u0441\u043a\u0440\u043e\u0435":f(t,a),"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043b\u0438\u0441\u0442":"".concat(a.SHEET_PRICE," \u0440\u0443\u0431."),"\u0412\u0441\u0435\u0433\u043e \u0434\u0435\u0442\u0430\u043b\u0435\u0439":t.size};for(var c in n)s.push(Object(p.jsx)(C,{title:c,value:n[c]},c));return Object(p.jsxs)("div",{id:"summary",children:[s,Object(p.jsxs)("div",{className:"summ-item",children:[Object(p.jsx)("span",{children:Object(p.jsx)("b",{children:"\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c:"})}),Object(p.jsx)("span",{children:Object(p.jsx)("b",{children:w(t,a,!0)})})]}),Object(p.jsx)(N,{set:t,o:a})]})}var N=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={open:!1},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return this.state.open?Object(p.jsxs)("div",{className:"summ-item more",children:[Object(p.jsx)("span",{onClick:function(){return e.setState({open:!1})},className:"action-link red w100p",children:Object(p.jsx)("b",{children:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"})}),w(this.props.set,this.props.o)]}):Object(p.jsx)("div",{className:"summ-item",children:Object(p.jsx)("span",{onClick:function(){return e.setState({open:!0})},className:"action-link red",children:Object(p.jsx)("b",{children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u0440\u0430\u0441\u0447\u0451\u0442\u0435"})})})}}]),a}(n.a.Component);function C(e){return Object(p.jsxs)("div",{className:"summ-item",children:[Object(p.jsxs)("span",{children:[e.title,": "]}),Object(p.jsx)("span",{children:e.value})]})}function w(e,t){var a,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.SHEET_WIDTH*t.SHEET_LENGHT*t.SHEET_FILLING_AREA,c=0,i=e.size>0?1:0,r={sm:0,lg:0},l=0,o=0,h=0,d=Object(v.a)(e.values());try{for(d.s();!(a=d.n()).done;){var j=a.value,b=j.width,x=j.height;for(var u in(c+=b*x)>n*i&&i++,j.edge){var g=j.edge[u];g>0&&g<1?r.sm+="left"===u||"right"===u?x:b:g>0&&g>2&&(r.lg+="left"===u||"right"===u?x:b)}(j.lt.x>0||j.rt.x>0||j.rb.x>0||j.lb.x>0)&&l++,j.loops&&"none"!==j.loops.side&&(h+=j.loops.count),j.groove&&o++}}catch(D){d.e(D)}finally{d.f()}var O=r.sm*t.EDGE_MULTIPLICATOR/1e3*Math.abs(t.PRICE_EDGE_04),m=r.lg*t.EDGE_MULTIPLICATOR/1e3*Math.abs(t.PRICE_EDGE_02),f=Math.round(O+m+(r.sm+r.lg)*t.EDGE_MULTIPLICATOR/1e3*Math.abs(t.PRICE_EDGING)),y=i*t.SHEET_PRICE,N=i*t.PRICE_SHEET_CUTTING,C=l*Math.abs(t.PRICE_CURVATURE),w=h*Math.abs(t.PRICE_LOOP),k=o*Math.abs(t.PRICE_GROOVE),S=i>0?200:0;if(s){var E=y+N+f+C+w+k+S;return E+" \u0440\u0443\u0431."}return Object(p.jsx)("table",{className:"w100p",children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b"}),Object(p.jsx)("td",{children:y})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\u0420\u0435\u0437"}),Object(p.jsx)("td",{children:N})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\u041a\u0440\u043e\u043c\u043b\u0435\u043d\u0438\u0435"}),Object(p.jsx)("td",{children:f})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\u041a\u0440\u0438\u0432\u043e\u043b\u0438\u043d\u0435\u0439\u043d\u043e\u0441\u0442\u044c"}),Object(p.jsx)("td",{children:C})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\u041f\u0435\u0442\u043b\u0438"}),Object(p.jsx)("td",{children:w})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\u041f\u0430\u0437\u044b"}),Object(p.jsx)("td",{children:k})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"}),Object(p.jsx)("td",{children:S})]})]})})}var k=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e.setRequest=function(t){t.preventDefault();var a=S(e.props.data,e.state),s=e.props.svgs,n=e.props.data.importOptions.REQUEST_URL,c=new FormData;c.append("order",a),c.append("svg",JSON.stringify(s)),fetch(n,{method:"POST",body:c}).then((function(e){console.log(e)}),(function(e){console.log(e)}))},e.heandleChange=function(t){var a=t.target,s=a.name,n="checkbox"===a.type?a.checked:a.value;e.setState(Object(r.a)({},s,n))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.data;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{set:e.details,options:e.importOptions}),Object(p.jsx)("h4",{className:"tac",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u043d\u0438\u0436\u0435"}),Object(p.jsxs)("form",{onSubmit:this.setRequest,id:"checkoutForm",children:[Object(p.jsxs)("fieldset",{className:"flex w100p",children:[Object(p.jsx)("legend",{children:"\u0412\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(p.jsx)("label",{className:"",children:Object(p.jsx)("input",{type:"text",name:"username",required:!0,defaultValue:this.state.username,placeholder:"\u0424\u0418\u041e",onChange:this.heandleChange})}),Object(p.jsx)("label",{className:"",children:Object(p.jsx)("input",{type:"phone",name:"userphone",required:!0,defaultValue:this.state.userphone,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",onChange:this.heandleChange})}),Object(p.jsx)("label",{className:"",children:Object(p.jsx)("input",{type:"email",name:"useremail",required:!0,defaultValue:this.state.useremail,placeholder:"\u0412\u0430\u0448 email",onChange:this.heandleChange})}),Object(p.jsx)("label",{className:"",children:Object(p.jsx)("textarea",{name:"usercomment",defaultValue:this.state.usercomment,placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443",onChange:this.heandleChange})})]}),Object(p.jsxs)("fieldset",{className:"flex w100p",children:[Object(p.jsx)("legend",{children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}),Object(p.jsxs)("label",{className:"flex-center",children:[Object(p.jsx)("span",{className:"fons12",children:"\u0421\u0440\u043e\u0447\u043d\u044b\u0439 \u0440\u0430\u0441\u043f\u0438\u043b"}),Object(p.jsx)("input",{type:"checkbox",name:"faster",onChange:this.heandleChange})]}),Object(p.jsxs)("label",{className:"flex-center",children:[Object(p.jsx)("span",{className:"fons12",children:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0432 \u043f\u043b\u0451\u043d\u043a\u0443"}),Object(p.jsx)("input",{type:"checkbox",name:"inbox",onChange:this.heandleChange})]}),Object(p.jsxs)("label",{className:"flex-center",children:[Object(p.jsx)("span",{className:"fons12",children:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u043d\u0430 \u043f\u043e\u0434\u0434\u043e\u043d"}),Object(p.jsx)("input",{type:"checkbox",name:"poddon",onChange:this.heandleChange})]})]}),Object(p.jsxs)("fieldset",{className:"w100p",children:[Object(p.jsx)("legend",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"text",name:"billingaddress",defaultValue:this.state.billingaddress,placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",onChange:this.heandleChange})})]})]}),Object(p.jsxs)("div",{id:"calc-form-controlls-wrapper",children:[Object(p.jsx)("button",{className:"btn",onClick:this.props.toOrderFunc,children:"\u041d\u0430\u0437\u0430\u0434 \u043a \u0441\u043f\u0438\u0441\u043a\u0443"}),Object(p.jsx)("button",{className:"btn",onClick:this.setRequest,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})}}]),a}(n.a.Component);function S(e,t){var a=e.details,s=e.importOptions,n=[["\u0424\u0418\u041e",t.username],["Email",t.useremail],["\u0422\u0435\u043b\u0435\u0444\u043e\u043d",t.userphone],["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443",t.usercomment],["\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",s.SHEET_NAME],["\u0421\u0440\u043e\u0447\u043d\u044b\u0439 \u0440\u0430\u0441\u043f\u0438\u043b",t.faster?"\u0434\u0430":"-"],["\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0432 \u043f\u043b\u0451\u043d\u043a\u0443",t.inbox?"\u0434\u0430":"-"],["\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0432 \u043f\u043e\u0434\u0434\u043e\u043d",t.poddon?"\u0434\u0430":"-"],["\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",(new Date).toString()],["#######","#######"],["#######","<b>\u0421\u043f\u0438\u0441\u043e\u043a \u0414\u0435\u0442\u0430\u043b\u0435\u0439</b>"],["#","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","\u0428\u0438\u0440\u0438\u043d\u0430","\u0414\u043b\u0438\u043d\u0430","\u041a\u043e\u043b-\u0432\u043e","\u041a\u0440\u043e\u043c\u0430 L1","\u041a\u0440\u043e\u043c\u0430 L2","\u041a\u0440\u043e\u043c\u0430 W1","\u041a\u0440\u043e\u043c\u0430 W2","\u041f\u0430\u0437"]],c=1;return a.forEach((function(e,t){var a=["#".concat(c," ").concat(t),e.title,e.nominalwidth,e.nominalheight,e.count,e.edge.left,e.edge.right,e.edge.top,e.edge.bot,e.groove];n.push(a),c++})),JSON.stringify(n)}var E=function(){function e(t){Object(h.a)(this,e),this.detail={title:t.title+" (\u043a\u043e\u043f\u0438\u044f)",width:t.width,nominalwidth:t.width,minWidth:60,maxWidth:window.importOptions.SHEET_WIDTH,height:t.height,nominalheight:t.height,minHeight:60,maxHeight:window.importOptions.SHEET_LENGHT,count:1,reserve:{left:t.reserve.left,top:t.reserve.top,right:t.reserve.right,bot:t.reserve.bot},lt:{title:"\u041b\u0435\u0432\u044b\u0439 \u0432\u0435\u0440\u0445\u043d\u0438\u0439",prev:"lb",next:"rt",x:t.lt.x,y:t.lt.y,type:t.lt.type},rt:{title:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0432\u0435\u0440\u0445\u043d\u0438\u0439",prev:"lt",next:"rb",x:t.rt.x,y:t.rt.y,type:t.rt.type},rb:{title:"\u041f\u0440\u0430\u0432\u044b\u0439 \u043d\u0438\u0436\u043d\u0438\u0439",prev:"rt",next:"lb",x:t.rb.x,y:t.rb.y,type:t.rb.type},lb:{title:"\u041b\u0435\u0432\u044b\u0439 \u043d\u0438\u0436\u043d\u0438\u0439",prev:"rb",next:"lt",x:t.lb.x,y:t.lb.y,type:t.lb.type},loops:t.loops,groove:t.groove,grooveIndent:16,grooveWidth:4,grooveDeep:8,edge:t.edge,edgeMin:.4,edgeMax:2,textureRotate:0,svg:null}}return Object(d.a)(e,[{key:"create",value:function(){return this.detail}}]),e}(),D=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={stage:"setorder",details:new Map,importOptions:window.importOptions,order:{billing:{userName:null,userEmail:null,userPhone:null,userComment:null},faster:null,packaging:null},activeDetail:null},e.addNewDetailFunc=function(t){var a={title:"\u0414\u0435\u0442\u0430\u043b\u044c #"+(e.state.details.size+1),width:400,nominalwidth:400,minWidth:60,maxWidth:2040,height:600,nominalheight:600,minHeight:60,maxHeight:2770,count:1,reserve:{left:!1,top:!1,right:!1,bot:!1},lt:{title:"\u041b\u0435\u0432\u044b\u0439 \u0432\u0435\u0440\u0445\u043d\u0438\u0439",prev:"lb",next:"rt",x:0,y:0,type:"outside"},rt:{title:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0432\u0435\u0440\u0445\u043d\u0438\u0439",prev:"lt",next:"rb",x:0,y:0,type:"outside"},rb:{title:"\u041f\u0440\u0430\u0432\u044b\u0439 \u043d\u0438\u0436\u043d\u0438\u0439",prev:"rt",next:"lb",x:0,y:0,type:"outside"},lb:{title:"\u041b\u0435\u0432\u044b\u0439 \u043d\u0438\u0436\u043d\u0438\u0439",prev:"rb",next:"lt",x:0,y:0,type:"outside"},loops:!1,groove:!1,grooveIndent:16,grooveWidth:4,grooveDeep:8,edge:{left:0,top:0,right:0,bot:0},edgeMin:.4,edgeMax:2,textureRotate:0,svg:null},s=e.state.details,n="D-"+(new Date).getTime(),c=n;return s.set(n,a),e.setState({details:s,activeDetail:c}),n},e.inputOnChange=function(t,a,s){var n=e.state.details,c=n.get(s);for(var i in a)c[t][i]=a[i];n.set(s,c),e.setState({details:n})},e.clearReserve=function(e,t){for(var a in e.reserve)e.reserve[a]===t&&(e.reserve[a]=!1);return"loops"===t&&(e.loops.side=!1),e},e.handleSetDetailSize=function(t,a,s){var n=e.state.details,c=n.get(t);c[a]=s,"width"===a&&s>500?c[a]=500:"width"===a&&s<150?c[a]=150:"height"===a&&s>700?c[a]=700:"height"===a&&s<150&&(c[a]=150),"width"===a&&s<150&&c.loops&&("top"!==c.loops.side&&"bot"!==c.loops.side||(c=e.clearReserve(c,"loops"))),"height"===a&&s<150&&c.loops&&("left"!==c.loops.side&&"right"!==c.loops.side||(c=e.clearReserve(c,"loops"))),c["nominal"+a]=s,n.set(t,c),e.setState({details:n})},e.loopChange=function(t,a){var s=e.state.details,n=s.get(a),c=n.width,i=n.height;if(!n.reserve[t.side]){for(var r in n.reserve)"loops"===n.reserve[r]&&(n.reserve[r]=!1);n.reserve[t.side]="loops"}"left"===t.side||"right"===t.side?t.after>i&&(t.after=i-100):t.after>c&&(t.after=c-100),n.loops=t,s.set(a,n),e.setState({details:s})},e.grooveChange=function(t,a){var s=e.state.details,n=s.get(a);if(!n.reserve[t]){for(var c in n.reserve)"groove"===n.reserve[c]&&(n.reserve[c]=!1);"none"!==t?(n.reserve[t]="groove",n.groove=t):n.groove=!1}s.set(a,n),e.setState({details:s})},e.edgeChange=function(t,a){var s=e.state.details,n=s.get(a);n.edge=t,s.set(a,n),e.setState({details:s})},e.changeDetailOptions=function(t){var a=t.target,s=a.closest(".detail").dataset.key,n=a.dataset.action,c=e.state.details;if("remove"!==n){if("copy"===n){var i=new E(c.get(s)).create(),r="D-"+(new Date).getTime();s=r,c.set(r,i),e.setState({details:c,activeDetail:s},e.forceUpdate())}if("close"!==n){if("rotate"===n){var l=c.get(e.state.activeDetail);return l.textureRotate=l.textureRotate>0?0:90,c.set(s,l),void e.setState({details:c})}e.setState({activeDetail:s})}else e.setState({activeDetail:null})}else{window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.")&&(c.delete(s),e.setState({details:c}))}},e.toCheckoutFunc=function(){e.saveSVG(),e.setState({stage:"checkout"})},e.toOrder=function(){e.setState({stage:"setorder"})},e.saveSVG=function(){var t=document.querySelectorAll("svg"),a=new Object;t.forEach((function(e,t,s){var n=e.id;a[n]=s[t].outerHTML})),e.svgs=a},e}return Object(d.a)(a,[{key:"render",value:function(){var e="checkout"===this.state.stage,t=!(this.state.details.size>0);return e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k,{data:this.state,toOrderFunc:this.toOrder,svgs:this.svgs}),Object(p.jsxs)("div",{className:"copyright",children:["\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0435 ",Object(p.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://alpha-max.ru",children:"\u0410\u043b\u044c\u0444\u0430\u043c\u0430\u043a\u0441"})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{set:this.state.details,options:this.state.importOptions}),this.state.details.size>2&&Object(p.jsx)(H,{isDisabled:t,addNewDetailFunc:this.addNewDetailFunc,toCheckoutFunc:this.toCheckoutFunc}),Object(p.jsx)(T,{activeDetail:this.state.activeDetail,changeDetailOptions:this.changeDetailOptions,saveSVGfunc:this.saveSVG,list:this.state.details,loopF:this.loopChange,grooveF:this.grooveChange,edgeF:this.edgeChange,f:this.inputOnChange,ff:this.handleSetDetailSize}),Object(p.jsx)(H,{isDisabled:t,addNewDetailFunc:this.addNewDetailFunc,toCheckoutFunc:this.toCheckoutFunc}),Object(p.jsxs)("div",{className:"copyright",children:["\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0435 ",Object(p.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://alpha-max.ru",children:"\u0410\u043b\u044c\u0444\u0430\u043c\u0430\u043a\u0441"})]})]})}}]),a}(n.a.Component),T=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(d.a)(a,[{key:"render",value:function(){var e=[],t=this.props.f,a=this.props.ff,s=this.props.loopF,n=this.props.grooveF,c=this.props.edgeF,i=this.props.activeDetail,r=this.props.saveSVGfunc,l=this.props.changeDetailOptions;return this.props.list.forEach((function(o,h){e.push(Object(p.jsx)(F,{activeKey:i===h?1:0,changeDetailOptions:l,saveSVGfunc:r,ff:a,f:t,loopF:s,grooveF:n,edgeF:c,dkey:h,value:o},h))})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u0442\u0430\u043b\u0435\u0439"}),e.length>0?e:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"]})}}]),a}(n.a.Component),F=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e.handleSetSize=function(t){var a=t.target.name,s=t.target.min,n=t.target.max,c=+t.target.value,i=e.props.dkey;(c<s||c>n)&&t.target.classList.add("error"),c>n?(c=n,t.target.classList.remove("error")):t.target.classList.remove("error"),e.props.ff(i,a,c)},e.handleSetTitle=function(t){var a=t.target.name,s=t.target.value,n=e.props.dkey;e.props.ff(n,a,s)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.value,t=window.importOptions;return 0===this.props.activeKey?Object(p.jsxs)("div",{className:"detail not-active","data-key":this.props.dkey,children:[Object(p.jsx)("div",{className:"detail-settings w100p",children:Object(p.jsxs)("div",{className:"flex-nowrap",children:[Object(p.jsxs)("fieldset",{id:"detail-size",className:"flex",children:[Object(p.jsx)("legend",{children:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b"}),Object(p.jsx)("label",{className:"w100p",children:Object(p.jsx)("input",{onChange:this.handleSetTitle,type:"text",name:"title",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:e.title})}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0428\u0438\u0440\u0438\u043d\u0430, \u043c\u043c"}),Object(p.jsx)("input",{onChange:this.handleSetSize,type:"number",name:"width",min:"60",max:t.SHEET_WIDTH,value:e.nominalwidth})]}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0414\u043b\u0438\u043d\u0430, \u043c\u043c"}),Object(p.jsx)("input",{onChange:this.handleSetSize,type:"number",name:"height",min:"60",max:t.SHEET_LENGHT,value:e.nominalheight})]}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u041a\u043e\u043b-\u0432\u043e, \u0448\u0442"}),Object(p.jsx)("input",{onChange:this.handleSetSize,type:"number",name:"count",min:"1",max:"1000",value:e.count})]})]}),Object(p.jsxs)("fieldset",{className:"detail-ext-options",children:[Object(p.jsx)("legend",{children:"\u041e\u043f\u0446\u0438\u0438"}),Object(p.jsx)("button",{"data-action":"change",onClick:this.props.changeDetailOptions,className:"btn",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(p.jsx)("button",{"data-action":"copy",onClick:this.props.changeDetailOptions,className:"btn",children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})}),Object(p.jsxs)("div",{className:"detail-plan",children:[Object(p.jsx)(_,{id:this.props.dkey,set:this.props.value,saveSVGfunc:this.props.saveSVGfunc}),Object(p.jsx)("button",{className:"remove-detail-btn","data-action":"remove",onClick:this.props.changeDetailOptions,title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c"})]})]}):Object(p.jsxs)("div",{className:"detail active","data-key":this.props.dkey,children:[Object(p.jsxs)("div",{className:"detail-settings w100p",children:[Object(p.jsxs)("div",{className:"flex-nowrap",children:[Object(p.jsxs)("fieldset",{id:"detail-size",className:"flex",children:[Object(p.jsx)("legend",{children:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b"}),Object(p.jsx)("label",{className:"w100p",children:Object(p.jsx)("input",{onChange:this.handleSetSize,type:"text",name:"title",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:e.title})}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0428\u0438\u0440\u0438\u043d\u0430, \u043c\u043c"}),Object(p.jsx)("input",{onChange:this.handleSetSize,type:"number",name:"width",min:"60",max:t.SHEET_WIDTH,value:e.nominalwidth})]}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u0414\u043b\u0438\u043d\u0430, \u043c\u043c"}),Object(p.jsx)("input",{onChange:this.handleSetSize,type:"number",name:"height",min:"60",max:t.SHEET_LENGHT,value:e.nominalheight})]}),Object(p.jsxs)("label",{className:"flex-column",children:[Object(p.jsx)("span",{children:"\u041a\u043e\u043b-\u0432\u043e, \u0448\u0442"}),Object(p.jsx)("input",{onChange:this.handleSetSize,type:"number",name:"count",min:"1",max:"1000",value:e.count})]})]}),Object(p.jsxs)("fieldset",{id:"edge",className:"flex",children:[Object(p.jsx)("legend",{children:"\u041a\u0440\u043e\u043c\u043a\u0430"}),Object(p.jsx)(O,{func:this.props.edgeF,set:this.props.value})]}),Object(p.jsxs)("div",{className:"detail-ext-options",children:[Object(p.jsx)("button",{"data-action":"close",onClick:this.props.changeDetailOptions,className:"btn",children:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),Object(p.jsx)("button",{"data-action":"copy",onClick:this.props.changeDetailOptions,className:"btn",children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(p.jsx)("button",{"data-action":"rotate",onClick:this.props.changeDetailOptions,className:"btn",children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0442\u0435\u043a\u0441\u0442\u0443\u0440\u0443"})]})]}),Object(p.jsxs)("fieldset",{id:"angles",className:"w100p",children:[Object(p.jsx)("legend",{children:"\u0423\u0433\u043b\u044b"}),Object(p.jsx)(M,{angleName:"lt",func:this.props.f,set:this.props.value}),Object(p.jsx)(M,{angleName:"rt",func:this.props.f,set:this.props.value}),Object(p.jsx)(M,{angleName:"rb",func:this.props.f,set:this.props.value}),Object(p.jsx)(M,{angleName:"lb",func:this.props.f,set:this.props.value})]}),Object(p.jsxs)("fieldset",{id:"loops",className:e.loops&&"none"!==e.loops.side?"flex w100p":"flex w50p",children:[Object(p.jsx)("legend",{children:"\u041f\u0435\u0442\u043b\u0438"}),Object(p.jsx)(j,{func:this.props.loopF,set:this.props.value})]}),Object(p.jsxs)("fieldset",{id:"groove",className:"flex w50p",children:[Object(p.jsx)("legend",{children:"\u041f\u0430\u0437"}),Object(p.jsx)(u,{func:this.props.grooveF,set:this.props.value})]})]}),Object(p.jsxs)("div",{className:"detail-plan",children:[Object(p.jsx)(_,{id:this.props.dkey,set:this.props.value}),Object(p.jsx)("button",{className:"remove-detail-btn","data-action":"remove",onClick:this.props.changeDetailOptions,title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c"})]})]})}}]),a}(n.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={active:!1,type:"outside",send:!0,x:30,y:30},e.handleInputChange=function(t){var a=t.target,s="checkbox"===a.type?a.checked:Math.abs(a.value),n=a.name;if("range"===a.type&&e.state.send){var c=a.dataset.break;e.setState({x:s<=c?s:c,y:s})}else e.setState(Object(r.a)({},n,s));e.props.func(e.props.angleName,{x:e.state.x,y:e.state.y,type:e.state.type,title:e.props.set[e.props.angleName].title,next:e.props.set[e.props.angleName].next,prev:e.props.set[e.props.angleName].prev},a.closest(".detail").dataset.key)},e.handleTypeChange=function(t){var a=t.target.name;e.setState((function(e,s){return this.props.func(s.angleName,{x:e.x,y:e.y,type:a,title:s.set[s.angleName].title,next:s.set[s.angleName].next,prev:s.set[s.angleName].prev},t.target.closest(".detail").dataset.key),{type:a}}))},e.handleInputActive=function(t){var a=t.target.checked;e.setState({active:a}),e.props.func(e.props.angleName,{x:a?e.state.x:0,y:a?e.state.y:0,type:e.state.type,title:e.props.set[e.props.angleName].title,next:e.props.set[e.props.angleName].next,prev:e.props.set[e.props.angleName].prev},t.target.closest(".detail").dataset.key)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.set,a=t[t[this.props.angleName].next],s=t[t[this.props.angleName].prev],n=101,c=101;"lt"===this.props.angleName?(c=+t.width-a.y,n=+t.height-s.x):"rt"===this.props.angleName?(c=+t.width-s.y,n=+t.height-a.x):"rb"===this.props.angleName?(c=+t.width-a.y,n=+t.height-s.x):(c=+t.width-s.y,n=+t.height-a.x);var i=Object(p.jsx)("span",{children:Object(p.jsx)("input",{onChange:this.handleInputActive,type:"checkbox",name:"active",checked:this.state.active})}),r=[],l=t.reserve.left,o=t.reserve.top,h=t.reserve.right,d=t.reserve.bot,j="";return"loops"===l||"groove"===l?(r=["lb","lt"],j="loops"===l?"\u043f\u0435\u0442\u043b\u044f\u043c\u0438":"\u043f\u0430\u0437\u043e\u043c"):"loops"===o||"groove"===o?(r=["lt","rt"],j="loops"===o?"\u043f\u0435\u0442\u043b\u044f\u043c\u0438":"\u043f\u0430\u0437\u043e\u043c"):"loops"===h||"groove"===h?(r=["rt","rb"],j="loops"===h?"\u043f\u0435\u0442\u043b\u044f\u043c\u0438":"\u043f\u0430\u0437\u043e\u043c"):"loops"!==d&&"groove"!==d||(r=["rb","lb"],j="loops"===d?"\u043f\u0435\u0442\u043b\u044f\u043c\u0438":"\u043f\u0430\u0437\u043e\u043c"),r.forEach((function(t){e.props.angleName===t&&(i=Object(p.jsxs)("span",{className:"reserve-notice red",children:["\u0421\u0442\u043e\u0440\u043e\u043d\u0430 \u0437\u0430\u043d\u044f\u0442\u0430 ",j]}))})),this.state.active?Object(p.jsxs)("div",{className:"angle-options-wrapper ".concat(this.state.active&&"active"),children:[Object(p.jsxs)("div",{className:"angle-options-type w100p",children:[Object(p.jsxs)("label",{className:"angle-title-wrapper",children:[Object(p.jsx)("span",{className:"angle-title ".concat(this.props.angleName),children:t[this.props.angleName].title}),Object(p.jsx)("span",{children:Object(p.jsx)("input",{onChange:this.handleInputActive,type:"checkbox",name:"active",checked:this.state.active})})]}),Object(p.jsx)("button",{onClick:this.handleTypeChange,name:"outside",className:"angle-type__outside ml-a","data-active":"outside"===this.state.type&&"active",children:"\u041d\u0430\u0440\u0443\u0436\u043d\u044b\u0439"}),Object(p.jsx)("button",{onClick:this.handleTypeChange,name:"linear",className:"angle-type__linear","data-active":"linear"===this.state.type&&"active",children:"\u041f\u0440\u044f\u043c\u043e\u0439"}),Object(p.jsx)("button",{onClick:this.handleTypeChange,name:"inside",className:"angle-type__inside","data-active":"inside"===this.state.type&&"active",children:"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439"})]}),Object(p.jsxs)("label",{className:"w100p pt10",children:["X ",Object(p.jsx)("input",{onChange:this.handleInputChange,type:"range",name:"y",min:"30",max:c,"data-break":n,step:"1",value:this.state.y}),Object(p.jsxs)("span",{children:[Object(p.jsx)("b",{children:this.state.y}),"\xa0\u043c\u043c"]})]}),Object(p.jsx)("label",{className:"switch",children:Object(p.jsx)("input",{onChange:this.handleInputChange,name:"send",type:"checkbox",checked:this.state.send})}),Object(p.jsxs)("label",{className:"w100p",children:["Y ",Object(p.jsx)("input",{onChange:this.handleInputChange,type:"range",name:"x",min:"30",max:n,step:"1",value:this.state.x,disabled:this.state.send}),Object(p.jsxs)("span",{children:[Object(p.jsx)("b",{children:this.state.x}),"\xa0\u043c\u043c"]})]})]}):Object(p.jsx)("div",{className:"angle-options-wrapper",children:Object(p.jsx)("div",{className:"angle-options-type w100p",children:Object(p.jsxs)("label",{className:"angle-title-wrapper",children:[Object(p.jsx)("span",{className:"angle-title ".concat(this.props.angleName),children:t[this.props.angleName].title}),i]})})})}}]),a}(n.a.Component);function I(e,t,a){var s=Math.abs(e);return s<t?t:s>a?a:s}function _(e){var t=e.set,a=t.width,s=t.nominalwidth,n=t.minWidth,c=t.maxWidth,i=t.height,r=t.nominalheight,l=t.minHeight,o=t.maxHeight,h=t.lt,d=t.rt,j=t.lb,x=t.rb,u=70;a=I(a,n,c),i=I(i,l,o),s>=500&&(i=t.height=Math.round(500/(Math.round(s/r*10,-1)/10))),i<200&&(i=t.height=200);var O="M ".concat(u," ").concat(Math.abs(h.x)+u," Q ").concat(function(e,t){if("outside"===t.type)return"".concat(e," ").concat(e);if("linear"===t.type)return"".concat(t.x/2+e," ").concat(t.y/2+e);if("inside"===t.type)return"".concat(+t.x+e," ").concat(+t.y+e)}(u,h)," ").concat(Math.abs(h.y)+u," ").concat(u),v=" L ".concat(a-d.y+u," ").concat(u),f=" Q ".concat(function(e,t,a){if("outside"===t.type)return"".concat(+a.width+e," ").concat(e);if("linear"===t.type)return"".concat(+a.width-t.y/2+e," ").concat(t.x/2+e);if("inside"===t.type)return"".concat(+a.width-t.y+e," ").concat(+t.x+e)}(u,d,t)," ").concat(a+u," ").concat(+d.x+u),y=" L ".concat(a+u," ").concat(i-x.x+u),N=" Q ".concat(function(e,t,a){if("outside"===t.type)return"".concat(+a.width+e," ").concat(+a.height+e);if("linear"===t.type)return"".concat(+a.width-t.y/2+e," ").concat(+a.height-t.x/2+e);if("inside"===t.type)return"".concat(+a.width-t.y+e," ").concat(+a.height-t.x+e)}(u,x,t)," ").concat(a-x.y+u," ").concat(i+u),C=" L ".concat(+j.y+u," ").concat(i+u),w=" Q ".concat(function(e,t,a){if("outside"===t.type)return"".concat(e," ").concat(+a.height+e);if("linear"===t.type)return"".concat(+t.y/2+e," ").concat(+a.height-t.x/2+e);if("inside"===t.type)return"".concat(+t.y+e," ").concat(+a.height-t.x+e)}(u,j,t)," ").concat(u," ").concat(i-j.x+u),k=t.textureRotate;return Object(p.jsxs)("svg",{id:e.id,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 "+(a+140)+" "+(i+140),children:[Object(p.jsx)("defs",{children:Object(p.jsx)("pattern",{id:"bg",patternUnits:"userSpaceOnUse",preserveAspectRatio:"none",patternTransform:"rotate(".concat(k,", ").concat(a/2,", ").concat(i/2,")"),width:600,height:399,children:Object(p.jsx)("image",{href:"http://rondo.96min.ru"+window.importOptions.SHEET_PICTURE_URL,x:0,y:0,width:600,height:399})})}),Object(p.jsx)("path",{d:O+v+f+y+N+C+w+" z",stroke:"#333333",strokeWidth:"3",strokeLinejoin:"miter",fill:"url(#bg)",opacity:"0.7"}),Object(p.jsx)("path",{d:"M ".concat(u," ").concat(Math.abs(h.x)+u," h ").concat(h.y," v -").concat(h.x),stroke:"red",strokeDasharray:"10",fill:"transparent"}),Object(p.jsx)("path",{d:"M ".concat(a+u," ").concat(Math.abs(d.x)+u," h -").concat(d.y," v -").concat(d.x),stroke:"red",strokeDasharray:"10",fill:"transparent"}),Object(p.jsx)("path",{d:"M ".concat(a+u," ").concat(i-x.x+u," h -").concat(x.y," v ").concat(x.x),stroke:"red",strokeDasharray:"10",fill:"transparent"}),Object(p.jsx)("path",{d:"M ".concat(u," ").concat(i-j.x+u," h ").concat(+j.y," v ").concat(+j.x),stroke:"red",strokeDasharray:"10",fill:"transparent"}),Object(p.jsxs)("text",{fontSize:"150%",x:(u+a)/2,y:20,children:[s,"\u043c\u043c"]}),Object(p.jsxs)("text",{fontSize:"150%",transform:"rotate(-90,".concat(20,",",(u+i)/2,")"),x:-15,y:(u+i)/2,children:[r,"\u043c\u043c"]})," ",Object(p.jsx)(b,{set:t,m:u})," ",Object(p.jsx)(g,{set:t,m:u})," ",Object(p.jsx)(m,{set:t,m:u})]})}function H(e){return Object(p.jsxs)("div",{id:"calc-form-controlls-wrapper",children:[Object(p.jsx)("button",{className:"btn",onClick:e.addNewDetailFunc,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c"}),Object(p.jsx)("button",{className:"btn",disabled:e.isDisabled,onClick:e.toCheckoutFunc,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044e"})]})}var R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root")),R()},7:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.d7cbd76a.chunk.js.map